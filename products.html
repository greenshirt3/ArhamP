<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Arham Printers - Product Catalog</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Printing Services, Business Cards, Stationery, Marketing Materials, Full Catalog" name="keywords">
    <meta content="Explore the full range of professional printing services and product catalog from Arham Printers." name="description">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500;600;700&family=Roboto:wght@400;500;700&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">

    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    
    <style>
        /* General Layout and Utility Styles */
        .section {
            display: none;
        }
        .section.active {
            display: block;
        }
        .final-price-box {
            background: var(--bs-primary);
            color: white;
            padding: 1.5rem;
            border-radius: 8px;
            margin-top: 1.5rem;
            text-align: center;
            display: none; 
        }
        .final-price-box h4 {
            color: white;
        }

        /* Clickable Card Variations (Standard Items) */
        .choice-card {
            cursor: pointer;
            border: 2px solid #ddd;
            border-radius: 8px;
            padding: 10px 15px;
            text-align: center;
            transition: all 0.2s ease;
            flex-grow: 1;
            min-width: 120px;
        }
        .choice-card:hover {
            border-color: var(--bs-secondary);
            background-color: #fff8f8;
        }
        .choice-card.selected {
            border-color: var(--bs-primary);
            background-color: var(--bs-primary);
            color: white;
            box-shadow: 0 0 10px rgba(242, 139, 0, 0.3);
        }
        .choice-card input[type="radio"] {
            display: none;
        }
        .choice-card .label-text {
            font-weight: 500;
            color: var(--bs-dark);
            display: block;
        }
        .choice-card.selected .label-text {
            color: white;
        }
        .product-option-group {
            margin-bottom: 1.5rem;
            padding: 0.75rem;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        .product-option-group label {
            font-weight: 600;
            color: var(--bs-dark);
            margin-bottom: 0.75rem;
            display: block;
            font-size: 1.1rem;
        }
    </style>
</head>

<body>
    <div class="container">
    <div class="container-fluid bg-dark text-white-50 py-2 px-0 d-none d-lg-block">
        <div class="row gx-0 align-items-center">
            <div class="col-lg-7 px-5 text-start">
                <div class="h-100 d-inline-flex align-items-center me-4">
                    <small class="fa fa-phone-alt me-2"></small>
                    <small>+92 300 6238233</small>
                </div>
                <div class="h-100 d-inline-flex align-items-center me-4">
                    <small class="far fa-envelope-open me-2"></small>
                    <small>info@arhamprinters.pk</small>
                </div>
                <div class="h-100 d-inline-flex align-items-center me-4">
                    <small class="far fa-clock me-2"></small>
                    <small>Mon - Fri : 09 AM - 09 PM</small>
                </div>
            </div>
            <div class="col-lg-5 px-5 text-end">
                <div class="h-100 d-inline-flex align-items-center">
                    <a class="text-white-50 ms-4" href=""><i class="fab fa-facebook-f"></i></a>
                    <a class="text-white-50 ms-4" href=""><i class="fab fa-twitter"></i></a>
                    <a class="text-white-50 ms-4" href=""><i class="fab fa-linkedin-in"></i></a>
                    <a class="text-white-50 ms-4" href=""><i class="fab fa-instagram"></i></a>
                </div>
            </div>
        </div>
    </div>
    <nav class="navbar navbar-expand-lg bg-white navbar-light sticky-top px-4 px-lg-5">
        <a href="index.html" class="navbar-brand d-flex align-items-center">
            <h1 class="m-0 text-primary"><i class="fa fa-print me-3"></i>Arham Printers</h1>
        </a>
        <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
            <div class="navbar-nav mx-auto bg-light pe-4 py-3 py-lg-0">
                <a href="index.html" class="nav-item nav-link">Home</a>
                <a href="#" class="nav-item nav-link active" onclick="showSection('shop-catalog')">Products</a>
                <div class="nav-item dropdown">
                    <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">Shop</a>
                    <div class="dropdown-menu bg-light border-0 m-0">
                         <a href="#" class="dropdown-item" onclick="showSection('shop-catalog')">All Products</a>
                         <a href="#quote-section" class="dropdown-item" onclick="showSection('quote')">Get Custom Quote</a>
                    </div>
                </div>
                <a href="#contact-section" class="nav-item nav-link" onclick="showSection('contact')">Contact</a>
            </div>
            <div class="h-100 d-lg-inline-flex align-items-center">
                <a class="btn-sm-square bg-white text-primary rounded-circle me-4 position-relative" href="#quote-section" onclick="showSection('quote')">
                    <i class="fas fa-file-invoice"></i>
                </a>
                <a href="#contact-section" class="btn btn-primary py-2 px-3 rounded-0 d-none d-lg-block" onclick="showSection('quote')">Get a Quote<i
                        class="fa fa-arrow-right ms-3"></i></a>
            </div>
        </div>
    </nav>
    <section id="shop-catalog-section" class="section active">
        <div class="container-fluid page-header py-5">
            <h2 class="text-center text-white display-6">Products and Services</h2>
           </div>

        <div class="container py-5">
            <div class="row g-4">
                <div class="col-lg-3">
                    <div class="bg-light p-4 rounded mb-4">
                        <h4 class="mb-4">Product Categories</h4>
                        <ul class="list-unstyled" id="productCategoriesList">
                            <li><div class="categories-item"><a href="#business-essentials" class="text-dark"><i class="fas fa-tags text-primary me-2"></i> Business Essentials</a></div></li>
                            <li><div class="categories-item"><a href="#office-essentials" class="text-dark"><i class="fas fa-tags text-primary me-2"></i> Office Essentials</a></div></li>
                            <li><div class="categories-item"><a href="#marketing-essentials" class="text-dark"><i class="fas fa-tags text-primary me-2"></i> Marketing Essentials</a></div></li>
                            <li><div class="categories-item"><a href="#printsing" class="text-dark"><i class="fas fa-tags text-primary me-2"></i> Digital Printing</a></div></li>
                            <li><div class="categories-item"><a href="#photo-printing" class="text-dark"><i class="fas fa-tags text-primary me-2"></i> Photo Printing</a></div></li>
                            <li><div class="categories-item"><a href="#banners" class="text-dark"><i class="fas fa-tags text-primary me-2"></i> Panaflex Banners</a></div></li>
                            <li><div class="categories-item"><a href="#promotional" class="text-dark"><i class="fas fa-tags text-primary me-2"></i> Promotional Items</a></div></li>
                            <li><div class="categories-item"><a href="#souvenirs" class="text-dark"><i class="fas fa-tags text-primary me-2"></i> Souvenirs</a></div></li>
                            <li><div class="categories-item"><a href="#wedding-cards" class="text-dark"><i class="fas fa-tags text-primary me-2"></i> Wedding Invitation Cards</a></div></li>
                            <li><div class="categories-item"><a href="#wallpaper" class="text-dark"><i class="fas fa-tags text-primary me-2"></i> 3D Wallpaper</a></div></li>
                            <li><div class="categories-item"><a href="#shields" class="text-dark"><i class="fas fa-tags text-primary me-2"></i> Shields</a></div></li>
                            <li><div class="categories-item"><a href="#flags-fabric" class="text-dark"><i class="fas fa-tags text-primary me-2"></i> Flags and Fabric</a></div></li>
                            <li><div class="categories-item"><a href="#box" class="text-dark"><i class="fas fa-tags text-primary me-2"></i> Box Packaging</a></div></li>
                        </ul>
                    </div>
                </div>

                <div class="col-lg-9">
                    <div class="row g-4" id="main-product-catalog">
                        <h3 class="w-100 pt-3" id="business-essentials">Business Essentials</h3>
                        <div class='col-md-4 col-sm-6 mb-4'>
                            <div class='card h-100 shadow-sm'>
                                <img src='img/products/vcard.webp' onerror="this.onerror=null;this.src='img/products/vcard.png';" class='card-img-top' alt='Shine Visisting Cards'>
                                <div class='card-body text-center'>
                                    <h5 class='card-title'>Shine Visisting Cards</h5>
                                    <button class="btn btn-primary w-100 mt-2" onclick="showProductDetails('Shine Visisting Cards')"><i class="fas fa-search me-2"></i> View Details</button>
                                </div>
                            </div>
                        </div>
                         <div class='col-md-4 col-sm-6 mb-4'>
                            <div class='card h-100 shadow-sm'>
                                <img src='img/products/matcards.webp' onerror="this.onerror=null;this.src='img/products/matcards.png';" class='card-img-top' alt='Mat Cards'>
                                <div class='card-body text-center'>
                                    <h5 class='card-title'>Mat Cards</h5>
                                    <button class="btn btn-primary w-100 mt-2" onclick="showProductDetails('Mat Cards')"><i class="fas fa-search me-2"></i> View Details</button>
                                </div>
                            </div>
                        </div>
                         <div class='col-md-4 col-sm-6 mb-4'>
                            <div class='card h-100 shadow-sm'>
                                <img src='img/products/uvcard.webp' onerror="this.onerror=null;this.src='img/products/uvcard.png';" class='card-img-top' alt='UV Cards'>
                                <div class='card-body text-center'>
                                    <h5 class='card-title'>UV Cards</h5>
                                    <button class="btn btn-primary w-100 mt-2" onclick="showProductDetails('UV Cards')"><i class="fas fa-search me-2"></i> View Details</button>
                                </div>
                            </div>
                        </div>
                         <div class='col-md-4 col-sm-6 mb-4'>
                            <div class='card h-100 shadow-sm'>
                                <img src='img/productsthickcard.webp' onerror="this.onerror=null;this.src='img/productsthickcard.png';" class='card-img-top' alt='UV Thick Cards'>
                                <div class='card-body text-center'>
                                    <h5 class='card-title'>UV Thick Cards</h5>
                                    <button class="btn btn-primary w-100 mt-2" onclick="showProductDetails('UV Thick Cards')"><i class="fas fa-search me-2"></i> View Details</button>
                                </div>
                            </div>
                        </div>

                        <h3 class="w-100 pt-3" id="office-essentials">Office Essentials</h3>
                        <div class='col-md-4 col-sm-6 mb-4'>
                            <div class='card h-100 shadow-sm'>
                                <img src='img/productsletterpad.webp' onerror="this.onerror=null;this.src='img/productsletterpad.png';" class='card-img-top' alt='Letterpad'>
                                <div class='card-body text-center'>
                                    <h5 class='card-title'>Letterpads</h5>
                                    <button class="btn btn-primary w-100 mt-2" onclick="showProductDetails('Letterpad')"><i class="fas fa-search me-2"></i> View Details</button>
                                </div>
                            </div>
                        </div>
                        <div class='col-md-4 col-sm-6 mb-4'>
                            <div class='card h-100 shadow-sm'>
                                <img src='img/products/envelops.webp' onerror="this.onerror=null;this.src='img/products/envelops.png';" class='card-img-top' alt='envelops'>
                                <div class='card-body text-center'>
                                    <h5 class='card-title'>Envelops</h5>
                                    <button class="btn btn-primary w-100 mt-2" onclick="showProductDetails('envelops')"><i class="fas fa-search me-2"></i> View Details</button>
                                </div>
                            </div>
                        </div>
                        <div class='col-md-4 col-sm-6 mb-4'>
                            <div class='card h-100 shadow-sm'>
                                <img src='img/products/billbooks.webp' onerror="this.onerror=null;this.src='img/products/billbooks.png';" class='card-img-top' alt='Bill Books'>
                                <div class='card-body text-center'>
                                    <h5 class='card-title'>Bill Books</h5>
                                    <button class="btn btn-primary w-100 mt-2" onclick="showProductDetails('Bill Books')"><i class="fas fa-search me-2"></i> View Details</button>
                                </div>
                            </div>
                        </div>
                        <div class='col-md-4 col-sm-6 mb-4'>
                            <div class='card h-100 shadow-sm'>
                                <img src='img/products/filecovers.webp' onerror="this.onerror=null;this.src='img/products/filecovers.png';" class='card-img-top' alt='File Covers'>
                                <div class='card-body text-center'>
                                    <h5 class='card-title'>File Covers</h5>
                                    <button class="btn btn-primary w-100 mt-2" onclick="showProductDetails('File Covers')"><i class="fas fa-search me-2"></i> View Details</button>
                                </div>
                            </div>
                        </div>
                        <div class='col-md-4 col-sm-6 mb-4'>
                            <div class='card h-100 shadow-sm'>
                                <img src='img/products/stamps.webp' onerror="this.onerror=null;this.src='img/products/stamps.png';" class='card-img-top' alt='Rubber Stamp (Rectangular)'>
                                <div class='card-body text-center'>
                                    <h5 class='card-title'>Rubber Stamp (Rectangular)</h5>
                                    <button class="btn btn-primary w-100 mt-2" onclick="showProductDetails('Rubber Stamp (Rectangular)')"><i class="fas fa-search me-2"></i> View Details</button>
                                </div>
                            </div>
                        </div>
                         <div class='col-md-4 col-sm-6 mb-4'>
                            <div class='card h-100 shadow-sm'>
                                <img src='img/products/penciltrays.webp' onerror="this.onerror=null;this.src='img/products/penciltrays.png';" class='card-img-top' alt='Pencil Tray'>
                                <div class='card-body text-center'>
                                    <h5 class='card-title'>Pencil Tray</h5>
                                    <button class="btn btn-primary w-100 mt-2" onclick="showProductDetails('Pencil Tray')"><i class="fas fa-search me-2"></i> View Details</button>
                                </div>
                            </div>
                        </div>


                        <h3 class="w-100 pt-3" id="marketing-essentials">Marketing Essentials</h3>
                        <div class='col-md-4 col-sm-6 mb-4'>
                            <div class='card h-100 shadow-sm'>
                                <img src='img/products/pamphlets.webp' onerror="this.onerror=null;this.src='img/products/pamphlets.png';" class='card-img-top' alt='pamphlets'>
                                <div class='card-body text-center'>
                                    <h5 class='card-title'>Pamphlets</h5>
                                    <button class="btn btn-primary w-100 mt-2" onclick="showProductDetails('pamphlets')"><i class="fas fa-search me-2"></i> View Details</button>
                                </div>
                            </div>
                        </div>
                        <div class='col-md-4 col-sm-6 mb-4'>
                            <div class='card h-100 shadow-sm'>
                                <img src='img/products/flyers.webp' onerror="this.onerror=null;this.src='img/products/flyers.png';" class='card-img-top' alt='Flyers/Ishtihars'>
                                <div class='card-body text-center'>
                                    <h5 class='card-title'>Flyers/Ishtihars</h5>
                                    <button class="btn btn-primary w-100 mt-2" onclick="showProductDetails('Flyers/Ishtihars')"><i class="fas fa-search me-2"></i> View Details</button>
                                </div>
                            </div>
                        </div>
                        <div class='col-md-4 col-sm-6 mb-4'>
                            <div class='card h-100 shadow-sm'>
                                <img src='img/products/Stickers.webp' onerror="this.onerror=null;this.src='img/products/Stickers.png';" class='card-img-top' alt='Stickers'>
                                <div class='card-body text-center'>
                                    <h5 class='card-title'>Stickers</h5>
                                    <button class="btn btn-primary w-100 mt-2" onclick="showProductDetails('Stickers')"><i class="fas fa-search me-2"></i> View Details</button>
                                </div>
                            </div>
                        </div>

                        <h3 class="w-100 pt-3" id="printsing">Digital Printing</h3>
                        <div class='col-md-4 col-sm-6 mb-4'>
                            <div class='card h-100 shadow-sm'>
                                <img src='img/products/prints.webp' onerror="this.onerror=null;this.src='img/products/prints.png';" class='card-img-top' alt='Digital Print (Tiered)'>
                                <div class='card-body text-center'>
                                    <h5 class='card-title'>Digital Print (Tiered)</h5>
                                    <button class="btn btn-primary w-100 mt-2" onclick="showProductDetails('Digital Print (Tiered)')"><i class="fas fa-search me-2"></i> Configure Print</button>
                                </div>
                            </div>
                        </div>

                        <h3 class="w-100 pt-3" id="photo-printing">Photo Printing</h3>
                        <div class='col-md-4 col-sm-6 mb-4'>
                            <div class='card h-100 shadow-sm'>
                                <img src='img/products/photopapers.webp' onerror="this.onerror=null;this.src='img/products/photopapers.png';" class='card-img-top' alt='Photo Papers'>
                                <div class='card-body text-center'>
                                    <h5 class='card-title'>PhotoPapers</h5>
                                    <button class="btn btn-primary w-100 mt-2" onclick="showProductDetails('photopapers')"><i class="fas fa-search me-2"></i> View Details</button>
                                </div>
                            </div>
                        </div>
                        <div class='col-md-4 col-sm-6 mb-4'>
                            <div class='card h-100 shadow-sm'>
                                <img src='img/products/frames.webp' onerror="this.onerror=null;this.src='img/products/frames.png';" class='card-img-top' alt='Photo Frames'>
                                <div class='card-body text-center'>
                                    <h5 class='card-title'>Photo Frames</h5>
                                    <button class="btn btn-primary w-100 mt-2" onclick="showProductDetails('Photo Frames')"><i class="fas fa-search me-2"></i> Configure Area</button>
                                </div>
                            </div>
                        </div>
                        
                         <h3 class="w-100 pt-3" id="banners">Panaflex Banners</h3>
                        <div class='col-md-4 col-sm-6 mb-4'>
                            <div class='card h-100 shadow-sm'>
                                <img src='img/products/china.webp' onerror="this.onerror=null;this.src='img/products/china.png';" class='card-img-top' alt='China Frontlit'>
                                <div class='card-body text-center'>
                                    <h5 class='card-title'>China Frontlit</h5>
                                    <button class="btn btn-primary w-100 mt-2" onclick="showProductDetails('China Frontlit')"><i class="fas fa-search me-2"></i> Configure Area</button>
                                </div>
                            </div>
                        </div>
                         <div class='col-md-4 col-sm-6 mb-4'>
                            <div class='card h-100 shadow-sm'>
                                <img src='img/products/star.webp' onerror="this.onerror=null;this.src='img/products/star.png';" class='card-img-top' alt='Star Frontlit'>
                                <div class='card-body text-center'>
                                    <h5 class='card-title'>Star Frontlit</h5>
                                    <button class="btn btn-primary w-100 mt-2" onclick="showProductDetails('Star Frontlit')"><i class="fas fa-search me-2"></i> Configure Area</button>
                                </div>
                            </div>
                        </div>
                         <div class='col-md-4 col-sm-6 mb-4'>
                            <div class='card h-100 shadow-sm'>
                                <img src='img/products/backlit.webp' onerror="this.onerror=null;this.src='img/products/backlit.png';" class='card-img-top' alt='Panaflex Banner Backlit'>
                                <div class='card-body text-center'>
                                    <h5 class='card-title'>Panaflex Banner Backlit</h5>
                                    <button class="btn btn-primary w-100 mt-2" onclick="showProductDetails('Panaflex Banner Backlit')"><i class="fas fa-search me-2"></i> Configure Area</button>
                                </div>
                            </div>
                        </div>

                        <h3 class="w-100 pt-3" id="promotional">Promotional Items</h3>
                        <div class='col-md-4 col-sm-6 mb-4'>
                            <div class='card h-100 shadow-sm'>
                                <img src='img/products/shirt.webp' onerror="this.onerror=null;this.src='img/products/shirt.png';" class='card-img-top' alt='White T-Shirt (Adult Size)'>
                                <div class='card-body text-center'>
                                    <h5 class='card-title'>White T-Shirt (Adult Size)</h5>
                                    <button class="btn btn-primary w-100 mt-2" onclick="showProductDetails('White T-Shirt (Adult Size)')"><i class="fas fa-search me-2"></i> View Details</button>
                                </div>
                            </div>
                        </div>
                        <div class='col-md-4 col-sm-6 mb-4'>
                            <div class='card h-100 shadow-sm'>
                                <img src='img/products/Mug.webp' onerror="this.onerror=null;this.src='img/products/Mug.png';" class='card-img-top' alt='Mug'>
                                <div class='card-body text-center'>
                                    <h5 class='card-title'>Mug</h5>
                                    <button class="btn btn-primary w-100 mt-2" onclick="showProductDetails('Mug')"><i class="fas fa-search me-2"></i> View Details</button>
                                </div>
                            </div>
                        </div>
                        <div class='col-md-4 col-sm-6 mb-4'>
                            <div class='card h-100 shadow-sm'>
                                <img src='img/products/pen.webp' onerror="this.onerror=null;this.src='img/products/pen.png';" class='card-img-top' alt='Metal Pen'>
                                <div class='card-body text-center'>
                                    <h5 class='card-title'>Metal Pen</h5>
                                    <button class="btn btn-primary w-100 mt-2" onclick="showProductDetails('Metal Pen')"><i class="fas fa-search me-2"></i> View Details</button>
                                </div>
                            </div>
                        </div>

                        <h3 class="w-100 pt-3" id="souvenirs">Souvenirs</h3>
                        <div class='col-md-4 col-sm-6 mb-4'>
                            <div class='card h-100 shadow-sm'>
                                <img src='img/products/locket.webp' onerror="this.onerror=null;this.src='img/products/locket.png';" class='card-img-top' alt='Locket with Picture'>
                                <div class='card-body text-center'>
                                    <h5 class='card-title'>Locket with Picture</h5>
                                    <button class="btn btn-primary w-100 mt-2" onclick="showProductDetails('Locket with Picture')"><i class="fas fa-search me-2"></i> View Details</button>
                                </div>
                            </div>
                        </div>
                        
                        <h3 class="w-100 pt-3" id="wedding-cards">Wedding Invitation Cards</h3>
                        <div class='col-md-4 col-sm-6 mb-4'>
                            <div class='card h-100 shadow-sm'>
                                <img src='img/products/wedding.webp' onerror="this.onerror=null;this.src='img/products/placeholder.png';" class='card-img-top' alt='Wedding Cards'>
                                <div class='card-body text-center'>
                                    <h5 class='card-title'>Custom Wedding Cards</h5>
                                    <button class="btn btn-warning w-100 mt-2" onclick="showSection('quote')"><i class="fas fa-file-invoice me-2"></i> Get Custom Quote</button>
                                </div>
                            </div>
                        </div>

                        <h3 class="w-100 pt-3" id="wallpaper">3D Wallpaper</h3>
                        <div class='col-md-4 col-sm-6 mb-4'>
                            <div class='card h-100 shadow-sm'>
                                <img src='img/products/wallpaper.webp' onerror="this.onerror=null;this.src='img/products/placeholder.png';" class='card-img-top' alt='3D Wallpaper'>
                                <div class='card-body text-center'>
                                    <h5 class='card-title'>3D Custom Wallpaper</h5>
                                    <button class="btn btn-primary w-100 mt-2" onclick="showProductDetails('3D Wallpaper Placeholder')"><i class="fas fa-search me-2"></i> Configure Area</button>
                                </div>
                            </div>
                        </div>

                        <h3 class="w-100 pt-3" id="shields">Shields</h3>
                        <div class='col-md-4 col-sm-6 mb-4'>
                            <div class='card h-100 shadow-sm'>
                                <img src='img/products/Shields.webp' onerror="this.onerror=null;this.src='img/products/placeholder.png';" class='card-img-top' alt='Shields'>
                                <div class='card-body text-center'>
                                    <h5 class='card-title'>Custom Shields / Plaques</h5>
                                    <button class="btn btn-warning w-100 mt-2" onclick="showSection('quote')"><i class="fas fa-file-invoice me-2"></i> Get Custom Quote</button>
                                </div>
                            </div>
                        </div>

                        <h3 class="w-100 pt-3" id="flags-fabric">Flags and Fabric (Custom)</h3>
                        <div class='col-md-4 col-sm-6 mb-4'>
                            <div class='card h-100 shadow-sm'>
                                <img src='img/products/flags.webp' onerror="this.onerror=null;this.src='img/products/placeholder.png';" class='card-img-top' alt='Flags and Fabric'>
                                <div class='card-body text-center'>
                                    <h5 class='card-title'>Custom Flags & Fabric Print</h5>
                                    <button class="btn btn-warning w-100 mt-2" onclick="showSection('quote')"><i class="fas fa-file-invoice me-2"></i> Get Custom Quote</button>
                                </div>
                            </div>
                        </div>

                        <h3 class="w-100 pt-3" id="box">Box Packaging (Custom)</h3>
                        <div class='col-md-4 col-sm-6 mb-4'>
                            <div class='card h-100 shadow-sm'>
                                <img src='img/products/box.webp' onerror="this.onerror=null;this.src='img/products/placeholder.png';" class='card-img-top' alt='Box Packaging'>
                                <div class='card-body text-center'>
                                    <h5 class='card-title'>Custom Packaging Boxes</h5>
                                    <button class="btn btn-warning w-100 mt-2" onclick="showSection('quote')"><i class="fas fa-file-invoice me-2"></i> Get Custom Quote</button>
                                </div>
                            </div>
                        </div>

                        </div>
                </div>
            </div>
        </div>

        <div class="container mt-5">
            <div class="text-center mb-4">
                <h3>Need Custom Document Printing?</h3>
                <p class="text-muted">Upload your documents, reports, and photos for professional printing</p>
                <a href="print-order.html" class="btn btn-warning btn-lg">
                    <i class="fas fa-print me-2"></i>Print Documents & Photos
                </a>
            </div>
        </div>
    </section>
    <section id="product-detail-section" class="section">
        <div class="container-fluid page-header py-5">
            <h1 class="text-center text-white display-6" id="detail-product-name-header">Product Details</h1>
            <ol class="breadcrumb justify-content-center mb-0">
                <li class="breadcrumb-item"><a href="#" onclick="showSection('shop-catalog')">Catalog</a></li>
                <li class="breadcrumb-item active text-white">Details</li>
            </ol>
        </div>

        <div class="container-fluid py-5">
            <div class="container py-5">
                <div class="row g-5">
                    <div class="col-lg-6">
                        <div class="d-flex justify-content-center">
                            <picture>
                                <source id="detail-product-image-webp" srcset="img/placeholder.webp" type="image/webp">
                                <img id="detail-product-image" src="img/placeholder.jpg" class="img-fluid rounded" alt="Product Image" style="max-height: 400px;">
                            </picture>
                        </div>
                    </div>
                    
                    <div class="col-lg-6">
                        <h2 class="fw-bold mb-4" id="detail-product-name-body">Product Name</h2>
                        
                        <div id="custom-area-inputs" style="display: none;">
                            <div class="product-option-group" data-option-key="Dimensions">
                                <label>Wall/Piece Dimensions (Feet):</label>
                                <div class="d-flex gap-3">
                                    <input type="number" id="input-width" min="1" placeholder="Width" class="form-control" oninput="updateFinalPrice()">
                                    <span class="align-self-center">x</span>
                                    <input type="number" id="input-height" min="1" placeholder="Height" class="form-control" oninput="updateFinalPrice()">
                                </div>
                                <small class="text-muted mt-2 d-block" id="areaDisplay"></small>
                            </div>
                            
                            <div class="product-option-group" data-option-key="Quantity">
                                <label>Number of Pieces/Walls:</label>
                                <input type="number" id="input-custom-qty" min="1" value="1" class="form-control" oninput="updateFinalPrice()">
                            </div>
                            
                            <div class="alert alert-danger mt-3" id="areaConstraintWarning" style="display: none;"></div>
                        </div>

                        <div id="standard-options-fields">
                            </div>

                        <div class="final-price-box" id="finalPriceBox">
                            <h4 class="mb-2">Final Price (PKR)</h4>
                            <h3 class="display-6 fw-bold" id="finalPriceDisplay">PKR 0</h3>
                            
                            <button class="btn btn-secondary py-2 px-4 w-100 mt-3" onclick="addToCartFromDetails()">
                                <i class="fab fa-whatsapp me-2"></i> Place Order via WhatsApp
                            </button>
                        </div>
                        
                        <div class="alert alert-info mt-3" id="selectionWarning" style="display: block;">
                            Please enter dimensions/quantity or select all options above to see the final price.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <section id="quote-section" class="section">
        <div class="container-fluid page-header py-5">
            <h1 class="text-center text-white display-6">Get a Custom Quote</h1>
            <ol class="breadcrumb justify-content-center mb-0">
                <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                <li class="breadcrumb-item active text-white">Quote</li>
            </ol>
        </div>

        <div class="container-fluid py-5">
            <div class="container py-5">
                <div class="row g-4 justify-content-center">
                    <div class="col-lg-8">
                        <div class="bg-light p-4 rounded">
                            <form id="quote-form" onsubmit="handleQuoteSubmission(event)">
                                <h3 class="mb-4">Quick Inquiry</h3>
                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <div class="form-floating">
                                            <input type="text" class="form-control border-0" id="quote-name" placeholder="Your Name" required>
                                            <label for="quote-name">Your Name</label>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-floating">
                                            <input type="tel" class="form-control border-0" id="quote-phone" placeholder="WhatsApp Phone" required>
                                            <label for="quote-phone">WhatsApp Phone</label>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="form-floating">
                                            <input type="text" class="form-control border-0" id="quote-product" placeholder="Product Name (e.g., Visiting Cards, 3D Wallpaper)">
                                            <label for="quote-product">Product Name / Type</label>
                                        </div>
                                    </div>
                                     <div class="col-12">
                                        <div class="form-floating">
                                            <input type="number" class="form-control border-0" id="quote-quantity" placeholder="Quantity or Total Area (e.g., 500 cards, 100 sq ft)">
                                            <label for="quote-quantity">Quantity / Estimated Area</label>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="form-floating">
                                            <textarea class="form-control border-0" placeholder="Details of your inquiry (Size, Finish, Quality, Message)" id="quote-details" style="height: 150px" required></textarea>
                                            <label for="quote-details">Inquiry Message / Specifications</label>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <button class="btn btn-primary w-100 py-3" type="submit">Submit Quote via WhatsApp</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section id="contact-section" class="section">
        <div class="container-fluid page-header py-5">
            <h1 class="text-center text-white display-6">Contact Us</h1>
            <ol class="breadcrumb justify-content-center mb-0">
                <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                <li class="breadcrumb-item active text-white">Contact</li>
            </ol>
        </div>

        <div class="container-fluid py-5">
            <div class="container py-5">
                <div class="row g-4">
                    <div class="col-lg-4">
                        <div class="bg-light p-4 rounded">
                            <div class="d-flex align-items-center mb-4">
                                <div class="d-flex align-items-center justify-content-center border border-primary rounded-circle mb-3"
                                    style="width: 60px; height: 60px;">
                                    <i class="fa fa-map-marker-alt text-primary fs-4"></i>
                                </div>
                                <div class="ms-4">
                                    <h5 class="mb-2">Our Location</h5>
                                    <p class="mb-0">Domela Chowk,Tanda Road, Jalalpur Jattan</p>
                                </div>
                            </div>
                            
                            <div class="d-flex align-items-center mb-4">
                                <div class="d-flex align-items-center justify-content-center border border-primary rounded-circle mb-3"
                                    style="width: 60px; height: 60px;">
                                    <i class="fa fa-phone-alt text-primary fs-4"></i>
                                </div>
                                <div class="ms-4">
                                    <h5 class="mb-2">Call Us</h5>
                                    <p class="mb-0">+92 300 6238233</p>
                                </div>
                            </div>
                            
                            <div class="d-flex align-items-center">
                                <div class="d-flex align-items-center justify-content-center border border-primary rounded-circle mb-3"
                                    style="width: 60px; height: 60px;">
                                    <i class="fa fa-envelope text-primary fs-4"></i>
                                </div>
                                <div class="ms-4">
                                    <h5 class="mb-2">Email Us</h5>
                                    <p class="mb-0">info@arhamprinters.pk</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-lg-8">
                        <div class="bg-light p-4 rounded">
                            <form id="contact-form-whatsapp" onsubmit="handleContactSubmission(event)">
                                <h3 class="mb-4">Send a Direct Message</h3>
                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <div class="form-floating">
                                            <input type="text" class="form-control border-0" id="contact-name" placeholder="Your Name" required>
                                            <label for="contact-name">Your Name</label>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-floating">
                                            <input type="text" class="form-control border-0" id="contact-subject" placeholder="Subject" required>
                                            <label for="contact-subject">Subject</label>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="form-floating">
                                            <textarea class="form-control border-0" placeholder="Leave a message here" id="contact-message" style="height: 150px" required></textarea>
                                            <label for="contact-message">Message</label>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <button class="btn btn-primary w-100 py-3" type="submit">Send Message via WhatsApp</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
   <div class="container-fluid footer py-2">
      <div class="container py-2">
        <div class="row g-3">
          <div class="col-6 col-md-3">
            <div class="rounded p-2 d-flex flex-column align-items-center">
              <div class="rounded-circle bg-secondary d-flex align-items-center justify-content-center mb-2 mx-auto" style="width: 56px; height: 56px;">
                <i class="fas fa-map-marker-alt fa-2x text-primary" style="line-height: 1;"></i>
              </div>
              <h6 class="text-white mt-1 mb-1">Address</h6>
              <p class="text-white fw-bold mb-1 small text-center">Domela Chowk, Tanda Road, Jalalpur Jattan</p>
            </div>
          </div>

          <div class="col-6 col-md-3">
            <div class="rounded p-2 d-flex flex-column align-items-center">
              <div class="rounded-circle bg-secondary d-flex align-items-center justify-content-center mb-2 mx-auto" style="width: 56px; height: 56px;">
                <i class="fas fa-envelope fa-2x text-primary" style="line-height: 1;"></i>
              </div>
              <h6 class="text-white mt-1 mb-1">Mail Us</h6>
              <p class="text-white fw-bold mb-1 small text-center">info@arhamprinters.pk</p>
            </div>
          </div>

          <div class="col-6 col-md-3">
            <div class="rounded p-2 d-flex flex-column align-items-center">
              <a href="https://wa.me/923006238233" target="_blank" class="text-decoration-none">
                <div class="rounded-circle bg-success d-flex align-items-center justify-content-center mb-2 mx-auto" style="width: 56px; height: 56px;">
                  <i class="fab fa-whatsapp fa-2x text-white" style="line-height: 1;"></i>
                </div>
              </a>
              <h6 class="text-white mt-1 mb-1">Direct Contact</h6>
              <a href="https://wa.me/923006238233" target="_blank" class="text-white-50 text-decoration-none">
                <p class="text-white fw-bold mb-1 small text-center">+92 300 6238233</p>
              </a>
            </div>
          </div>

          <div class="col-6 col-md-3">
            <div class="rounded p-2 d-flex flex-column align-items-center">
              <div class="rounded-circle bg-secondary d-flex align-items-center justify-content-center mb-2 mx-auto" style="width: 56px; height: 56px;">
                <i class="fab fa-facebook-f fa-2x text-primary" style="line-height: 1;"></i>
              </div>
              <h6 class="text-white mt-1 mb-1">Follow Us</h6>
              <div class="d-flex justify-content-center gap-1">
                <a class="btn btn-square btn-outline-light rounded-circle" href="#"><i class="fab fa-twitter"></i></a>
                <a class="btn btn-square btn-outline-light rounded-circle" href="#"><i class="fab fa-facebook-f"></i></a>
                <a class="btn btn-square btn-outline-light rounded-circle" href="#"><i class="fab fa-youtube"></i></a>
                <a class="btn btn-square btn-outline-light rounded-circle" href="#"><i class="fab fa-linkedin-in"></i></a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="container-fluid copyright py-2">
        <div class="container">
          <div class="row">
            <div class="col-12 text-center">
              <span class="text-white small">
                <i class="fas fa-copyright text-light me-1"></i>
                Arham Printers, All rights reserved 2025.
              </span>
            </div>
          </div>
        </div>
      </div>
    </div> 
        <a href="#" class="btn btn-primary btn-lg-square back-to-top"><i class="fa fa-arrow-up"></i></a>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/waypoints/waypoints.min.js"></script>
    <script src="lib/counterup/counterup.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="js/main.js"></script>

    <script>
    // --- Configuration ---
    const PUBLIC_DATA_URL = 'itemsprice.json'; 
    const WHATSAPP_NUMBER = '923006238233'; 
    
    let allProducts = {}; 
    let currentProduct = null; 

    // Global stores for pricing logic
    let allProductGroups = {};
    let currentSelectedVariations = {}; 
    
    // Placeholder structure for area based logic
    let areaBasedMeta = {}; 
    
    // A manually defined list of products that should be treated as area-based
    const AREA_BASED_PRODUCT_NAMES = [
        "China Frontlit", "Star Frontlit", "Panaflex Banner Backlit", "Venyl Pasting Sticker", "One Vision Pasting Sticker", 
        "Photo Frames", 
    ];
    
    // Custom structure for the complex Digital Printing Pricing
    let digitalPrintingPricing = {};


    // --- Core Functions ---

    async function initialAppLoad() {
        let rawData;
        try {
            const response = await fetch(PUBLIC_DATA_URL);
            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }
            rawData = await response.json();
        } catch (error) {
            console.error("Failed to load shop data:", error);
            showAlert("Failed to load product data. Check the developer console.", 'error');
            return;
        }
        
        // Setup all product data and pricing structure from JSON
        initialProductSetup(rawData);
        
        // Ensure the main catalog view is visible on load
        showSection('shop-catalog'); 
        
        // Set up form submission handlers for WhatsApp routing
        document.getElementById('quote-form').addEventListener('submit', handleQuoteSubmission);
        document.getElementById('contact-form-whatsapp').addEventListener('submit', handleContactSubmission);
    }
    
    // --- Data Preprocessing for Complex JSON ---
    // This function still runs to build the data structure for the detail page.

    function flattenAndCategorize(data) {
        const productGroups = {};
        
        Object.keys(data).forEach(mainCategoryKey => {
            
            if (mainCategoryKey === "Digital Printing Pricing" || mainCategoryKey === "Digital Printing") {
                return;
            }
            
            const categoryData = data[mainCategoryKey];
            
            Object.keys(categoryData).forEach(subCategoryKey => {
                const subCategoryData = categoryData[subCategoryKey];
                
                if (!productGroups[subCategoryKey]) {
                    productGroups[subCategoryKey] = {
                        baseName: subCategoryKey,
                        minPrice: Infinity,
                        imageFile: `${subCategoryKey.replace(/\s|\//g, '-')}`, // Filename base for WebP/PNG
                        isAreaBased: AREA_BASED_PRODUCT_NAMES.includes(subCategoryKey),
                        mainCategory: mainCategoryKey,
                        combinations: [] 
                    };
                    
                    if (productGroups[subCategoryKey].isAreaBased) {
                         areaBasedMeta[subCategoryKey] = { is_area_based: true, rate: 1, min_area: 10 };
                    }
                }

                Object.keys(subCategoryData).forEach(level1Key => {
                    const level1Data = subCategoryData[level1Key];
                    
                    Object.keys(level1Data).forEach(level2Key => {
                        const level2Data = level1Data[level2Key];
                        
                        if (Array.isArray(level2Data)) {
                            level2Data.forEach(combo => {
                               const price = combo.price || 0;
                                
                                if (price > 0 || productGroups[subCategoryKey].isAreaBased) {
                                    const attributes = {
                                        'Size': level1Key,
                                        'Material/Stock': level2Key,
                                        'Price': price,
                                        'FullName': `${subCategoryKey} ${level1Key} ${level2Key}`
                                    };
                                    
                                    if (combo.single_side) attributes['Side 1 Print'] = combo.single_side;
                                    if (combo.double_side) attributes['Side 2 Print'] = combo.double_side;
                                    if (combo.material) attributes['Material'] = combo.material;
                                    if (combo.finish) attributes['Finish'] = combo.finish;
                                    if (combo.shape) attributes['Shape'] = combo.shape;
                                    if (combo.accessories) attributes['Accessories'] = combo.accessories;

                                    if (!productGroups[subCategoryKey].isAreaBased) {
                                         productGroups[subCategoryKey].combinations.push(attributes);
                                    }
                                    
                                    if (!productGroups[subCategoryKey].isAreaBased && price < productGroups[subCategoryKey].minPrice) {
                                        productGroups[subCategoryKey].minPrice = price;
                                    }
                                }
                            });
                        }
                    });
                });
            });
        });

        return productGroups;
    }

    function initialProductSetup(rawData) {
        
        // 1. Separate Digital Printing Pricing (The complex tiered structure)
        if (rawData["Digital Printing Pricing"]) {
             digitalPrintingPricing = rawData["Digital Printing Pricing"];
             
             // Add a special flag for the main Digital Print item
             const printItem = rawData["Digital Printing"]["Print"];
             if(printItem) {
                 allProductGroups["Digital Print (Tiered)"] = {
                      baseName: "Digital Print (Tiered)",
                      minPrice: 6, 
                      imageFile: `prints`, // Filename base for WebP/PNG
                      isAreaBased: false,
                      mainCategory: "Digital Printing",
                      isDigitalTiered: true, 
                      combinations: [] 
                 };
             }
        }
        
        // 2. Process all other standard products
        allProductGroups = { ...flattenAndCategorize(rawData), ...allProductGroups };
    }


    // New function for Digital Printing Details
    function showDigitalPrintingDetails() {
         currentProduct = allProductGroups["Digital Print (Tiered)"];
         currentSelectedVariations = {}; 
         
         document.getElementById('detail-product-name-header').textContent = currentProduct.baseName;
         document.getElementById('detail-product-name-body').textContent = currentProduct.baseName;
         
         // Update Picture tag for WebP/PNG
         document.getElementById('detail-product-image-webp').srcset = `img/products/${currentProduct.imageFile}.webp`;
         document.getElementById('detail-product-image').src = `img/products/${currentProduct.imageFile}.png`; // Fallback image path
         document.getElementById('detail-product-image').onerror = function() { this.src = `img/products/placeholder.png`; };

         const areaInputs = document.getElementById('custom-area-inputs');
         const standardOptions = document.getElementById('standard-options-fields');
         
         areaInputs.style.display = 'none';
         standardOptions.style.display = 'block';
         standardOptions.innerHTML = '';
         
         // Reset warnings
         document.getElementById('finalPriceBox').style.display = 'none';
         document.getElementById('selectionWarning').textContent = "Please select all printing options and enter quantity to see the final price.";
         document.getElementById('selectionWarning').classList.remove('alert-danger');
         document.getElementById('selectionWarning').classList.add('alert-info');
         document.getElementById('selectionWarning').style.display = 'block';


         const digitalData = digitalPrintingPricing;

         // Get all unique values for A4/Legal (Size)
         const sizes = Object.keys(digitalData.DigitalPrintingPricing);
         
         let html = '';

         // --- Size Selection (A4/Legal) ---
         html += `<div class="product-option-group" data-option-key="Size">
                    <label>Paper Size:</label>
                    <div class="d-flex flex-wrap gap-3" id="choices-Size">`;
         sizes.forEach(size => {
             const inputId = `Size-${size}`;
             html += `<label class="choice-card" for="${inputId}">
                         <input type="radio" id="${inputId}" name="option-Size" value="${size}" 
                                onchange="handleCardSelection('Size', '${size}')">
                         <span class="label-text">${size}</span>
                     </label>`;
         });
         html += `</div></div>`;

         // --- Color Type Selection (Black_White/Color) ---
         const colorTypes = ['black_white', 'color'];
         html += `<div class="product-option-group" data-option-key="ColorType">
                    <label>Print Color:</label>
                    <div class="d-flex flex-wrap gap-3" id="choices-ColorType">`;
         colorTypes.forEach(color => {
             const displayColor = color.replace('_', ' ').toUpperCase();
             const inputId = `ColorType-${color}`;
             html += `<label class="choice-card" for="${inputId}">
                         <input type="radio" id="${inputId}" name="option-ColorType" value="${color}" 
                                onchange="handleCardSelection('ColorType', '${color}')">
                         <span class="label-text">${displayColor}</span>
                     </label>`;
         });
         html += `</div></div>`;
         
         // --- GSM Selection (70g/80g/100g) ---
         const gsms = ['70g', '80g', '100g'];
         html += `<div class="product-option-group" data-option-key="GSM">
                    <label>Paper Weight (GSM):</label>
                    <div class="d-flex flex-wrap gap-3" id="choices-GSM">`;
         gsms.forEach(gsm => {
             const inputId = `GSM-${gsm}`;
             html += `<label class="choice-card" for="${inputId}">
                         <input type="radio" id="${inputId}" name="option-GSM" value="${gsm}" 
                                onchange="handleCardSelection('GSM', '${gsm}')">
                         <span class="label-text">${gsm}</span>
                     </label>`;
         });
         html += `</div></div>`;


         standardOptions.innerHTML += html;
         
         // Add quantity selector for standard items (pages)
         standardOptions.innerHTML += `
              <div class="product-option-group" data-option-key="QuantitySelector">
                 <label>Number of Pages:</label>
                 <div class="input-group">
                     <button class="btn btn-outline-secondary" type="button" onclick="updateQuantityStandard(-1)">-</button>
                     <input type="number" id="input-standard-qty" min="1" value="1" class="form-control text-center" oninput="updateFinalPrice()">
                     <button class="btn btn-outline-secondary" type="button" onclick="updateQuantityStandard(1)">+</button>
                 </div>
             </div>
         `;

         showSection('product-detail');
    }

    // 4. Navigate to and Populate Product Detail Page
    function showProductDetails(productName) {
        
        // Handle the special tiered Digital Printing case first
        if (productName.trim() === "Digital Print (Tiered)") {
             showDigitalPrintingDetails();
             return;
        }

        let cleanName = productName.replace(/'/g, '').trim(); 
        const productData = allProductGroups[cleanName]; 
        currentProduct = productData;
        currentSelectedVariations = {}; 

        if (!currentProduct) {
            showAlert(`Product "${cleanName}" details not found in JSON data. Please use the 'Get Custom Quote' option.`, 'error'); 
            return;
        }

        // Update headers and image
        document.getElementById('detail-product-name-header').textContent = currentProduct.baseName;
        document.getElementById('detail-product-name-body').textContent = currentProduct.baseName;
        
        // Update Picture tag for WebP/PNG
        document.getElementById('detail-product-image-webp').srcset = `img/products/${currentProduct.imageFile}.webp`;
        document.getElementById('detail-product-image').src = `img/products/${currentProduct.imageFile}.png`; // Fallback image path
        document.getElementById('detail-product-image').onerror = function() { 
             this.src = `img/products/placeholder.png`; 
        };


        const areaInputs = document.getElementById('custom-area-inputs');
        const standardOptions = document.getElementById('standard-options-fields');
        
        document.getElementById('finalPriceBox').style.display = 'none';
        document.getElementById('selectionWarning').textContent = "Please enter dimensions/quantity or select all options above to see the final price.";
        document.getElementById('selectionWarning').classList.remove('alert-danger');
        document.getElementById('selectionWarning').classList.add('alert-info');
        document.getElementById('selectionWarning').style.display = 'block';

        const isAreaBased = currentProduct.isAreaBased;
        
        //  CORE LOGIC: Area-Based vs. Standard 
        if (isAreaBased) {
            // --- AREA-BASED SETUP (Panaflex/Wallpaper/Photo Frames) ---
            areaInputs.style.display = 'block';
            standardOptions.style.display = 'none';
            
            // Set input listeners to trigger updateFinalPrice()
            ['input-width', 'input-height', 'input-custom-qty'].forEach(id => {
                 const el = document.getElementById(id);
                 if(el) el.oninput = updateFinalPrice;
            });
            
            // Reset inputs and warnings
            document.getElementById('input-width').value = '';
            document.getElementById('input-height').value = '';
            document.getElementById('input-custom-qty').value = 1;
            document.getElementById('areaDisplay').textContent = '';
            document.getElementById('areaConstraintWarning').style.display = 'none';
            
            updateFinalPrice();

        } else {
            // --- STANDARD TIERED ITEM SETUP ---
            areaInputs.style.display = 'none';
            standardOptions.style.display = 'block';
            standardOptions.innerHTML = ''; 

            const allCombinations = currentProduct.combinations || [];
            if (allCombinations.length === 0 || !allCombinations[0]) {
                 standardOptions.innerHTML = `<p class="alert alert-warning">No configurations found for this product. Please use the Quote form.</p>`;
                 return;
            }

            // Determine unique attribute keys excluding price/name
            const attributeKeys = Object.keys(allCombinations[0]).filter(key => key !== 'Price' && key !== 'FullName');

            const availableAttributes = {};
            attributeKeys.forEach(key => availableAttributes[key] = new Set());

            allCombinations.forEach(c => {
                attributeKeys.forEach(key => {
                    if (c[key]) availableAttributes[key].add(c[key]);
                });
            });
            
            // Render groups of unique values for each attribute
            Object.keys(availableAttributes).forEach((attrKey) => {
                const uniqueValues = Array.from(availableAttributes[attrKey]);
                const sanitizedKey = attrKey.replace(/\s|\/|\(|\)/g, '');
                
                let groupHTML = `
                    <div class="product-option-group" data-option-key="${sanitizedKey}">
                        <label>${attrKey}:</label>
                        <div class="d-flex flex-wrap gap-3" id="choices-${sanitizedKey}">
                `;
                
                uniqueValues.forEach(value => {
                    const inputId = `${sanitizedKey}-${value.replace(/\s|\/|\\|\(|\)/g, '-')}`;
                    
                    groupHTML += `
                        <label class="choice-card" for="${inputId}">
                            <input type="radio" id="${inputId}" name="option-${sanitizedKey}" value="${value}" 
                                   onchange="handleCardSelection('${sanitizedKey}', '${value}')">
                            <span class="label-text">${value}</span>
                        </label>
                    `;
                });

                groupHTML += `</div></div>`;
                standardOptions.innerHTML += groupHTML;
            });

            // Add quantity selector for standard items
            standardOptions.innerHTML += `
                 <div class="product-option-group" data-option-key="QuantitySelector">
                    <label>Quantity:</label>
                    <div class="input-group">
                        <button class="btn btn-outline-secondary" type="button" onclick="updateQuantityStandard(-1)">-</button>
                        <input type="number" id="input-standard-qty" min="1" value="1" class="form-control text-center" oninput="updateFinalPrice()">
                        <button class="btn btn-outline-secondary" type="button" onclick="updateQuantityStandard(1)">+</button>
                    </div>
                </div>
            `;
            
            document.getElementById('finalPriceBox').style.display = 'none';
            document.getElementById('selectionWarning').style.display = 'block';
        }

        showSection('product-detail');
    }
    
    // Helper for quantity buttons on standard items
    function updateQuantityStandard(change) {
        const input = document.getElementById('input-standard-qty');
        let quantity = parseInt(input.value) || 1;
        quantity = Math.max(1, quantity + change);
        input.value = quantity;
        updateFinalPrice();
    }
    
    // New handler function for card clicks (Standard Items)
    function handleCardSelection(key, value) {
        const sanitizedKey = key;
        
        currentSelectedVariations[sanitizedKey] = value;
        
        document.querySelectorAll(`input[name="option-${sanitizedKey}"]`).forEach(input => {
            input.closest('.choice-card').classList.remove('selected');
        });
        const selectedInput = document.querySelector(`input[name="option-${sanitizedKey}"][value="${value}"]`);
        if (selectedInput) {
            selectedInput.closest('.choice-card').classList.add('selected');
        }

        updateFinalPrice();
    }
    
    // --- Price Update and Calculation Logic (Handles both types) ---
    
    function updateFinalPrice() {
        if (!currentProduct) return;
        
        const isAreaBased = currentProduct.isAreaBased;
        const isDigitalTiered = currentProduct.isDigitalTiered;

        // 1. Handle Area-Based Products (Panaflex, Photo Frames)
        if (isAreaBased) {
            const width = parseFloat(document.getElementById('input-width').value) || 0;
            const height = parseFloat(document.getElementById('input-height').value) || 0;
            const quantity = parseInt(document.getElementById('input-custom-qty').value) || 0;

            const rateMeta = areaBasedMeta[currentProduct.baseName];
            const baseRate = rateMeta ? rateMeta.rate : 0;
            const minArea = rateMeta ? rateMeta.min_area || 0 : 0;
            
            document.getElementById('finalPriceBox').style.display = 'none';
            document.getElementById('areaConstraintWarning').style.display = 'none';
            document.getElementById('selectionWarning').style.display = 'block';
            document.getElementById('selectionWarning').textContent = "Please enter valid dimensions and quantity to calculate price.";
            
            if (width <= 0 || height <= 0 || quantity <= 0 || baseRate === 0) {
                document.getElementById('areaDisplay').textContent = '';
                return;
            }

            const itemArea = width * height;
            const totalArea = itemArea * quantity;
            document.getElementById('areaDisplay').textContent = `Area per piece: ${itemArea.toFixed(2)} sq ft | Total Area: ${totalArea.toFixed(2)} sq ft`;

            if (totalArea < minArea) {
                document.getElementById('areaConstraintWarning').textContent = `Minimum order area for this product is ${minArea} sq ft. Current total area (${totalArea.toFixed(2)} sq ft) is too small.`;
                document.getElementById('areaConstraintWarning').style.display = 'block';
                return; 
            }
            
            const totalPrice = totalArea * baseRate;
            
            document.getElementById('finalPriceDisplay').textContent = `PKR ${totalPrice.toLocaleString('en-PK', { minimumFractionDigits: 0 })}`;
            document.getElementById('finalPriceBox').style.display = 'block';
            document.getElementById('selectionWarning').style.display = 'none';

            return; 
        } 
        
        // 2. Handle Digital Printing Tiered Products 
        else if (isDigitalTiered) {
             const quantity = parseInt(document.getElementById('input-standard-qty')?.value) || 0;
             const size = currentSelectedVariations.Size;
             const colorType = currentSelectedVariations.ColorType;
             const gsm = currentSelectedVariations.GSM;
             
             document.getElementById('finalPriceBox').style.display = 'none';
             document.getElementById('selectionWarning').style.display = 'block';
             document.getElementById('selectionWarning').textContent = "Please select all printing options and enter a valid quantity.";
             
             if (!size || !colorType || !gsm || quantity <= 0) return;
             
             try {
                const sizeData = digitalPrintingPricing.DigitalPrintingPricing[size];
                const colorData = sizeData[colorType];
                const gsmData = colorData[gsm];
                
                if (!gsmData) throw new Error("Price data missing for selected GSM.");
                
                let unitPrice = 0;
                let foundPrice = false;
                
                // Find the correct quantity tier
                Object.keys(gsmData).forEach(rangeKey => {
                    const [min, max] = rangeKey.split('-').map(n => parseInt(n));
                    if (quantity >= min && quantity <= max) {
                        unitPrice = gsmData[rangeKey];
                        foundPrice = true;
                    }
                });
                
                if (!foundPrice) {
                    // For quantities above the largest tier (1000), use the price of the largest tier
                    const keys = Object.keys(gsmData);
                    const lastKey = keys[keys.length - 1];
                    const [minLast, maxLast] = lastKey.split('-').map(n => parseInt(n));
                    
                    if (quantity > maxLast) {
                        unitPrice = gsmData[lastKey];
                        foundPrice = true;
                    } else if (quantity < 1) {
                         // Should be caught by quantity <= 0 check, but safe guard
                         return;
                    }
                }
                
                if (foundPrice) {
                    const totalPrice = unitPrice * quantity;
                    document.getElementById('finalPriceDisplay').textContent = `PKR ${totalPrice.toLocaleString('en-PK', { minimumFractionDigits: 0 })}`;
                    document.getElementById('finalPriceBox').style.display = 'block';
                    document.getElementById('selectionWarning').style.display = 'none';
                } else {
                    document.getElementById('selectionWarning').textContent = "Price tier not found for this quantity. Contact for custom quote.";
                }

             } catch(e) {
                 console.error("Digital Printing Price Calculation Error:", e);
                 document.getElementById('selectionWarning').textContent = "Error calculating price. Select options again or contact us.";
             }

             return;
        }

        // 3. Standard Tiered Products (Business Cards, letterpad, etc.) 
        
        const quantity = parseInt(document.getElementById('input-standard-qty')?.value) || 1;
        const allCombinations = currentProduct?.combinations || [];
        
        if (allCombinations.length === 0) return;

        // Get required keys from the first combination object
        const requiredKeys = Object.keys(allCombinations[0]).filter(key => key !== 'Price' && key !== 'FullName');
        
        let selectedAttributes = {};
        let allSelected = true;

        requiredKeys.forEach(key => {
            const sanitizedKey = key.replace(/\s|\/|\(|\)/g, '');
            if (!currentSelectedVariations[sanitizedKey]) {
                allSelected = false;
            } else {
                selectedAttributes[key] = currentSelectedVariations[sanitizedKey];
            }
        });

        if (!allSelected) {
            document.getElementById('finalPriceBox').style.display = 'none';
            document.getElementById('selectionWarning').textContent = "Please select all required options.";
            document.getElementById('selectionWarning').style.display = 'block';
            return;
        }

        // B. Find matching combination price
        let finalProductCombination = null;
        allCombinations.forEach(combo => {
            let matches = true;
            requiredKeys.forEach(key => {
                if (combo[key] !== selectedAttributes[key]) {
                    matches = false;
                }
            });
            if (matches) {
                finalProductCombination = combo;
            }
        });
        
        // C. Calculate and Display
        if (finalProductCombination) {
            const unitPrice = finalProductCombination.Price;
            const totalPrice = unitPrice * quantity;
            
            document.getElementById('finalPriceDisplay').textContent = `PKR ${totalPrice.toLocaleString('en-PK', { minimumFractionDigits: 0 })}`;
            document.getElementById('finalPriceBox').style.display = 'block';
            document.getElementById('selectionWarning').style.display = 'none';

        } else {
            document.getElementById('selectionWarning').textContent = "Selected combination not available. Try another mix.";
            document.getElementById('selectionWarning').classList.remove('alert-info');
            document.getElementById('selectionWarning').classList.add('alert-danger');
            document.getElementById('finalPriceBox').style.display = 'none';
            document.getElementById('selectionWarning').style.display = 'block';
        }
    }

    // --- WhatsApp Submission Logic ---
    function addToCartFromDetails() {
        const finalPriceText = document.getElementById('finalPriceDisplay').textContent;
        const totalPrice = parseFloat(finalPriceText.replace('PKR', '').replace(/,/g, '').trim()) || 0;
        
        if (totalPrice === 0 || document.getElementById('finalPriceBox').style.display === 'none') {
             showAlert('Please configure the product and ensure the final price is calculated before ordering.', 'error');
             return;
        }

        let itemDetails = '';
        const isAreaBased = currentProduct.isAreaBased;
        const isDigitalTiered = currentProduct.isDigitalTiered;

        if (isAreaBased) {
            const width = parseFloat(document.getElementById('input-width').value) || 0;
            const height = parseFloat(document.getElementById('input-height').value) || 0;
            const quantity = parseInt(document.getElementById('input-custom-qty').value) || 0;
            const totalArea = (width * height) * quantity;
            
            itemDetails = `\n*Product:* ${currentProduct.baseName} (Area-Based)\n*Dimensions:* ${width}ft x ${height}ft\n*Quantity:* ${quantity} piece(s)\n*Total Area:* ${totalArea.toFixed(2)} sq ft\n*Price:* ${finalPriceText}`;
            
        } else if (isDigitalTiered) {
             const quantity = parseInt(document.getElementById('input-standard-qty').value) || 1;
             const details = Object.entries(currentSelectedVariations)
                 .map(([key, val]) => `\n- ${key.replace(/[A-Z]/g, ' $&').trim()}: ${val}`);
             
             itemDetails = `\n*Product:* ${currentProduct.baseName} (Digital Printing)\n*Selections:*${details.join('')}\n*Pages:* ${quantity} page(s)\n*Total Price:* ${finalPriceText}`;
        } else {
            const quantity = parseInt(document.getElementById('input-standard-qty').value) || 1;
            const details = Object.entries(currentSelectedVariations)
                .map(([key, val]) => `\n- ${key.replace(/[A-Z]/g, ' $&').trim()}: ${val}`);
            
            itemDetails = `\n*Product:* ${currentProduct.baseName} (Standard)\n*Selections:*${details.join('')}\n*Quantity:* ${quantity} unit(s)\n*Total Price:* ${finalPriceText}`;
        }
        
        submitOrderViaWhatsApp(itemDetails, totalPrice);
    }
    
    // 1. General Order Submission (from product page)
    function submitOrderViaWhatsApp(itemDetails, totalPrice) {
        
        let message = `*NEW ARHAM PRINTERS ORDER REQUEST (WEB)*\n`;
        message += `-------------------------------------------\n`;
        message += `${itemDetails}\n`;
        message += `-------------------------------------------\n`;
        message += `*CONFIRMED TOTAL (Excl. Delivery):* ${document.getElementById('finalPriceDisplay').textContent}\n\n`;
        message += `_ACTION REQUIRED: Please provide your full name and delivery address for final price confirmation and delivery charge calculation._\n\n`;
        message += `Customer is waiting for contact.`;

        const whatsappLink = `https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(message)}`;
        window.open(whatsappLink, '_blank');
        
        showAlert('Opening WhatsApp chat now. Your order details have been prepared!', 'success');
        
        setTimeout(() => {
             // After order, go back to catalog view
             showSection('shop-catalog');
        }, 1500);
    }
    
    // 2. Contact Form Submission Handler
    function handleContactSubmission(e) {
        e.preventDefault();
        
        const name = document.getElementById('contact-name').value;
        const subject = document.getElementById('contact-subject').value;
        const message = document.getElementById('contact-message').value;

        let whatsappMessage = `*NEW CONTACT MESSAGE (WEB)*\n`;
        whatsappMessage += `*Sender:* ${name}\n`;
        whatsappMessage += `*Subject:* ${subject}\n`;
        whatsappMessage += `*Message:* ${message}`;
        
        window.open(`https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(whatsappMessage)}`, '_blank');

        showAlert('Message sent via WhatsApp!', 'success');
        document.getElementById('contact-form-whatsapp').reset();
    }
    
    // 3. Get A Quote Submission Handler
    function handleQuoteSubmission(e) {
        e.preventDefault();
        
        const name = document.getElementById('quote-name').value;
        const phone = document.getElementById('quote-phone').value;
        const product = document.getElementById('quote-product').value;
        const quantity = document.getElementById('quote-quantity').value;
        const details = document.getElementById('quote-details').value;
        
        let whatsappMessage = `*NEW QUOTE REQUEST (WEB)*\n`;
        whatsappMessage += `*Customer:* ${name}\n`;
        whatsappMessage += `*Phone (Contact):* ${phone}\n`;
        whatsappMessage += `*Product Type:* ${product}\n`;
        whatsappMessage += `*Quantity/Area:* ${quantity}\n`;
        whatsappMessage += `*Specifications:* ${details}`;
        
        window.open(`https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(whatsappMessage)}`, '_blank');

        showAlert('Quote submitted via WhatsApp! We will contact you shortly.', 'success');
        document.getElementById('quote-form').reset();
    }

    // --- UI/Navigation Functions ---
    function showSection(sectionName) {
        // Hide all sections
        document.querySelectorAll('.section').forEach(section => {
            section.classList.remove('active');
        });
        
        // Show the selected section
        const sectionElement = document.getElementById(sectionName + '-section');
        if (sectionElement) {
            sectionElement.classList.add('active');
        } else {
             console.error(`Section with ID ${sectionName}-section not found.`);
             // Default to showing catalog if a section is missing
             document.getElementById('shop-catalog-section').classList.add('active');
        }
        
        // Update active nav link
        document.querySelectorAll('.nav-link').forEach(link => {
            link.classList.remove('active');
        });
        
        // Only mark 'Products' link as active, since filtering is removed
        const productsNavLink = document.querySelector(`.navbar-nav a[onclick="showSection('shop-catalog')"]`);
        if (productsNavLink) productsNavLink.classList.add('active');
        
        window.scrollTo(0, 0);
    }
    
    function showAlert(message, type) {
        const alert = document.createElement('div');
        alert.className = `alert alert-${type === 'error' ? 'danger' : type} alert-dismissible fade show position-fixed`;
        alert.style.top = '20px';
        alert.style.right = '20px';
        alert.style.zIndex = '9999';
        alert.style.minWidth = '300px';
        alert.innerHTML = `
            ${message}
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        `;
        document.body.appendChild(alert);
        
        setTimeout(() => {
            if (alert.parentNode) {
                alert.parentNode.removeChild(alert);
            }
        }, 5000);
    }

    document.addEventListener('DOMContentLoaded', initialAppLoad);
</script>
</div>
</body>

</html>
